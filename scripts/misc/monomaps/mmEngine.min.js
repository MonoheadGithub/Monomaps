function load_markers(){try{if(monomapMarkers)for(mmAlert({name:"Monomap Markers",message:"Pushing markers from Localstorage to mmData.",type:"warning"}),e=0;e<monomapMarkers.length;e++)if(monomapMarkers[e].monomaps_data.map===localStorage.getItem("timeMode")){let a=mmData.find(a=>a.id===monomapMarkers[e].id);a?mmAlert({name:"Monomap Markers",message:`Skipped ${monomapMarkers[e].monomaps.name}, already exists.`,type:"warning"}):(mmData.push(monomapMarkers[e]),mmAlert({name:"Monomap Markers",message:`Pushed ${monomapMarkers[e].monomaps.name} to mmData.`,type:"success"}))}let a=0;for(i=0;i<monomapMarkers.length;i++)"Custom"===monomapMarkers[i].monomaps_data.type&&(monomapMarkers[i].monomaps_data.map?"Southside"===monomapMarkers[i].monomaps_data.map&&(a+=1):a+=1);for(a>0&&localStorage.getItem("dnotif")&&"disabled"===localStorage.getItem("dnotif")&&mmAlert({name:"Migrate Custom Southside Markers.",message:`You have ${a} custom marker(s) from Southside to migrate here, click <i class="fa-solid fa-user-gear"></i> to resolve.`,type:"info",ui:!0,timeOut:5e3}),mmAlert({name:"Monomap Markers",message:"Checking for duplicate mmData markers in Localstorage.",type:"warning"}),mmAlert({name:"Monomap Markers",message:"Ignoring Custom Markers..",type:"info"}),i=0;i<mmData.length;i++)for(o=0;o<monomapMarkers.length;o++)mmData[i].id===monomapMarkers[o].id&&"Custom"!==monomapMarkers[o].monomaps_data.type&&(mmAlert({name:"Monomap Markers",message:`Deleted ${monomapMarkers[o].monomaps.name} from Localstorage.`,type:"success"}),monomapMarkers.splice(o,1));for(localStorage.setItem("monomapMarkers",JSON.stringify(monomapMarkers)),console.groupCollapsed("Loaded Monomap Markers.."),console.time("loadTime"),i=0;i<mmData.length;i++){let e=mmData[i].monomaps,a=mmData[i].monomaps_data,n=document.getElementById("monomaps-maps-maparea"),t=document.createElement("i");if(t.className=`${a.marker} fa-solid fa-${a.icon}`,t.style.position=a.position,t.style.top=a.top+"px",t.style.left=a.left+"px",t.style.color=a.color?a.color:"",t.style.fontSize=a.iconSize?a.iconSize+"px":"32px",t.onmouseover=function(){t.style.fontSize=a.hoverSize?a.hoverSize+"px":"40px"},t.onmouseleave=function(){t.style.fontSize=a.iconSize?a.iconSize+"px":"32px"},t.setAttribute("data-x",a.left),t.setAttribute("data-y",a.top),t.setAttribute("data-name",e.name),t.setAttribute("data-perm",!!a.perm&&a.perm),t.setAttribute("data-type",a.type),t.setAttribute("data-icon",a.icon),t.setAttribute("data-color",a.color),t.setAttribute("data-context-type","Custom"===a.type?"Custom":"Monomaps"),t.id=mmData[i].id,"function"==typeof a.event?t.addEventListener("click",a.event):t.setAttribute("onclick",a.event),localStorage.getItem("showPreview")&&"true"===localStorage.getItem("showPreview")&&a.preview){let o;t.addEventListener("mouseover",t=>{o=setTimeout(()=>{if(n.insertAdjacentHTML("beforeend",`\n              <div class="monomaps-maps-markerPreview fadein" id='preview'>\n              <img class="monomaps-maps-imgPreview" src="${e.image}" onerror='this.src="./assets/monomaps/imgs/noImage.jpg"' alt='${e.name}'>\n              <div class="monomaps-maps-previewContainer">\n              <h3 class="monomaps-maps-titlePreview"><i class='fa-solid fa-${a.icon}' style="color: ${a.color};"></i> ${e.name}</h3>\n              <div id='badges'></div>\n              <hr>\n              <div class='monomaps-maps-descriptPreview'>${e.description}</div>\n              </div>\n            </div>\n              `),a.badges)for(i=0;i<a.badges.length;i++)document.getElementById("badges").insertAdjacentHTML("afterbegin",`<span class='badge ${a.badges[i].type}'>${a.badges[i].name}</span>  `);else document.getElementById("badges").remove();let t=document.getElementById("preview");t.style.position="absolute",t.style.top=`${a.top+25}px`,t.style.left=`${a.left+25}px`},600)}),t.addEventListener("mouseleave",e=>{clearTimeout(o),document.getElementById("preview")&&(document.getElementById("preview").classList.add("fadeout"),setTimeout(()=>{document.getElementById("preview").remove()},250))})}a.noLoad&&0!=a.noLoad?localStorage.getItem("unicorns")?"Unicorns"===a.type&&n.appendChild(t):mmAlert({name:e.name,message:"Disabled",type:"warning"}):(mmAlert({name:e.name,message:"Loaded successfully",type:"success"}),n.appendChild(t))}console.timeEnd("loadTime"),console.groupEnd()}catch(e){mmAlert({name:"Monomaps",message:"Error while loading Map Markers, check console.",type:"error",ui:!0}),mmAlert({name:"Monomaps",message:e,type:"error"})}}function unload_markers(e){let a=document.querySelectorAll(".marker");for(mmAlert({name:"Monomaps - Action",message:`Unloaded ${a.length} markers.`,type:"warning"}),mmAlert({name:"Monomaps - Reason",message:`${e}`,type:"warning"}),i=0;i<a.length;i++)a[i].remove()}function delete_marker(e){let a=idCheck(e);a?a.perm?mmAlert({name:"Monomaps",message:`Failed to delete ${a.name}`,type:"error"}):mmAlert({name:`Deleting ${a.name}`,message:`You're about to delete <b>${a.name}</b>, this action cannot be reversed, are you sure?`,type:"warning",ui:!0,dialog:!0,yesButtonText:`Yes, delete ${a.name}`,noButtonText:"Nevermind, I wanna keep it."}).then(e=>{if(!0===e)try{for(mmAlert({name:"Monomaps",message:`Deleting ${a.name}`,type:"warning"}),i=0;i<monomapMarkers.length;i++)monomapMarkers[i].id===a.id&&(monomapMarkers.splice(i,1),localStorage.setItem("monomapMarkers",JSON.stringify(monomapMarkers)),location.reload())}catch(e){mmAlert({name:"Monomaps",message:`Failed to delete ${a.name}`,type:"error"}),console.error(e)}}):mmAlert({name:"Monomaps",message:`Failed to delete ${a.name}, Invalid ID.`,type:"warning",ui:!0})}function dismissInfoP(e){if(1===e)mmAlert({name:"Are you sure?",message:"You have unsaved changes made, this is irreversible.",type:"warning",ui:!0,dialog:!0}).then(e=>{if(!0===e){let e=document.getElementById("infopanel"),a=document.getElementById("infopanelEditor");e.classList.add("slideout"),a&&a.classList.add("fadeout"),setTimeout(()=>{e.remove(),a&&a.remove()},500)}});else if(1.1===e){let e=document.getElementById("infopanel"),a=document.getElementById("infopanelEditor");e.classList.add("slideout"),a&&a.classList.add("fadeout"),setTimeout(()=>{e.remove(),a&&a.remove()},500)}else{let e=document.getElementById("infopanel");e.classList.add("slideout"),setTimeout(()=>{e.remove()},1e3)}}function idCheck(e){let a=mmData.find(a=>a.id==e);if(void 0!==a)return mmAlert({name:"idCheck - "+a.monomaps.name,message:a,type:"info"}),{map:a.monomaps_data.map,id:a.id,badges:!!a.monomaps_data.badges&&a.monomaps_data.badges,type:a.monomaps_data.type,perm:a.monomaps_data.perm,icon:a.monomaps_data.icon,name:a.monomaps.name,description:a.monomaps.description,image:a.monomaps.image,x:a.monomaps_data.left,y:a.monomaps_data.top,color:a.monomaps_data.color,iconSize:a.monomaps_data.iconSize,hoverSize:a.monomaps_data.hoverSize};mmAlert({name:"idCheck",message:`${e} is invalid.`,type:"error",ui:!0})}function mapareaSize(e){if(!e)return mmAlert({name:"Monomaps",message:"Did not provide value to change map-size to.",type:"error",ui:!0});let a=document.querySelector("#monomaps-maps-maparea");a.style.width=e+"px",a.style.height=e+"px",a.style.backgroundSize=`${e}px ${e}px`,mmAlert({name:"Monomaps",message:`Map-size changed to ${e}x${e}.`,type:"success"})}function customMarker(e){let a=document.getElementById("infopanel");if(document.body.contains(a)){let n=idCheck(e);if(n)if(a.dataset.markerid=n.id,a.innerHTML=`\n      <img class='monomaps-maps-infopanel-img lazyload' src='${n.image}' onerror='this.src="./assets/monomaps/imgs/noImage.jpg"' alt='${n.name}'>\n      ${!0===n.pano?"":`<input type='text' id='searchBar' class='monomaps-input' placeholder='${n.name}'>`}\n      <button class='monomaps-maps-infopanel-dismiss' onclick='dismissInfoP()' id='infoPDismiss'><i class='fa-solid fa-xmark'></i></button>\n      <h1 class='monomaps-maps-infopanel-title'><i class='fa-solid fa-${n.icon}' style='color: ${n.color}'></i> ${n.name}</h1>\n      <div id='monomaps-maps-infopanel-badges'></div>\n      <hr>\n      <div class='monomaps-maps-infopanel-description'>${n.description}</div>\n      <hr>\n      <div class='monomaps-maps-infopanel-actions'>\n      <a href="#" class='monomaps-maps-button-rounded' onclick='shareMarker(this.parentNode.parentElement.dataset.markerid)'><i class='fa-solid fa-share'></i></a>\n      <a href="#" class='monomaps-maps-button-rounded' onclick='reportMarker(this.parentNode.parentElement.dataset.markerid)'><i class='fa-solid fa-flag'></i></a>\n      </div>\n      `,n.badges)for(i=0;i<n.badges.length;i++)document.getElementById("monomaps-maps-infopanel-badges").insertAdjacentHTML("afterbegin",`<span class='badge ${n.badges[i].type}'>${n.badges[i].name}</span>  `);else document.getElementById("monomaps-maps-infopanel-badges").remove()}else{let a=idCheck(e);if(a)if(document.body.insertAdjacentHTML("beforeend",`\n      <div class='monomaps-maps-infopanel slidein' id='infopanel' data-markerID='${a.id}'>\n      <img class='monomaps-maps-infopanel-img lazyload' src='${a.image}' onerror='this.src="./assets/monomaps/imgs/noImage.jpg"' alt='${a.name}'>\n      <input type='text' id='searchBar' class='monomaps-input' placeholder='${a.name}'>\n      <button class='monomaps-maps-infopanel-dismiss' onclick='dismissInfoP()' id='infoPDismiss'><i class='fa-solid fa-xmark'></i></button>\n      <h1 class='monomaps-maps-infopanel-title'><i class='fa-solid fa-${a.icon}' style='color: ${a.color}'></i> ${a.name}</h1>\n      <div id='monomaps-maps-infopanel-badges'></div>\n      <hr>\n      <div class='monomaps-maps-infopanel-description'>${a.description}</div>\n      <hr>\n      <div class='monomaps-maps-infopanel-actions'>\n      <a href="#" class='monomaps-maps-button-rounded' onclick='shareMarker(this.parentNode.parentElement.dataset.markerid)'><i class='fa-solid fa-share'></i></a>\n      <a href="#" class='monomaps-maps-button-rounded' onclick='reportMarker(this.parentNode.parentElement.dataset.markerid)'><i class='fa-solid fa-flag'></i></a>\n      </div>\n      </div>\n      `),a.badges)for(i=0;i<a.badges.length;i++)document.getElementById("monomaps-maps-infopanel-badges").insertAdjacentHTML("afterbegin",`<span class='badge ${a.badges[i].type}'>${a.badges[i].name}</span>  `);else document.getElementById("monomaps-maps-infopanel-badges").remove()}document.getElementById("searchBar").addEventListener("keyup",e=>{listMarkers(document.getElementById("searchBar").value)})}function listMarkers(e){let a=document.getElementById("infopanel");for(document.body.contains(a)?a.innerHTML="\n    <input type='text' id='searchBar' class='monomaps-input' placeholder='Search Markers'>\n    <button class='monomaps-maps-infopanel-dismiss' onclick='dismissInfoP()' id='infoPDismiss'>X</button>\n    <div class='monomaps-maps-infopanel-description' style='margin-top: 65px; max-height: 90% !important;'>\n    <hr>\n    <ul id='markers' style='list-style-type: none; padding: 0; margin: 0;'>\n    </div>\n    ":document.body.insertAdjacentHTML("beforeend","\n      <div class='monomaps-maps-infopanel slidein' id='infopanel'>\n      <input type='text' id='searchBar' class='monomaps-input' placeholder='Search Markers'>\n      <button class='monomaps-maps-infopanel-dismiss' onclick='dismissInfoP()' id='infoPDismiss'><i class='fa-solid fa-xmark'></i></button>\n      <div class='monomaps-maps-infopanel-description' style='margin-top: 65px; max-height: 90% !important;'>\n      <hr>\n      <div>\n      <ul id='markers' style='list-style-type: none; padding: 0; margin: 0;'>\n      </ul>\n      </div>\n      </div>\n      </div>\n      "),i=0;i<mmData.length;i++)if(!0==!mmData[i].monomaps_data.noLoad){let e=mmData[i].monomaps,a=mmData[i].monomaps_data,n=document.createElement("li");n.innerHTML=`\n      <div class='listMarkers hidden' onclick='customMarker(${mmData[i].id})'>\n      <b class='configTitle'><a href="#" style='text-decoration: none; color: white;'><i class='fa-solid fa-${a.icon}' style='color: ${a.color};'></i> ${e.name}</a></b>\n      </div>\n      `,n.dataset.id=mmData[i].id,n.dataset.name=e.name,n.addEventListener("click",()=>{document.getElementById(n.dataset.id).scrollIntoView({block:"center",inline:"center"})}),document.getElementById("markers").appendChild(n)}let n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?e.target.classList.add("show"):e.target.classList.remove("show")})});const t=document.querySelectorAll(".hidden");t.forEach(e=>n.observe(e));let o=document.getElementsByClassName("listMarkers");document.getElementById("searchBar").addEventListener("keyup",()=>{var e,a,n,t,s,i,r;for(e=document.getElementById("searchBar"),a=e.value.toUpperCase(),n=document.getElementById("markers"),t=n.getElementsByTagName("li"),i=0;i<o.length;i++)s=t[i].getElementsByTagName("a")[0],r=s.textContent||s.innerText,r.toUpperCase().indexOf(a)>-1?t[i].classList.remove("hideElem"):t[i].classList.add("hideElem")}),document.getElementById("searchBar").focus(),document.getElementById("searchBar").value=e||""}function shareMarker(e){navigator.clipboard.writeText(`${window.location.host}${window.location.pathname}?marker=${e}`),mmAlert({name:"Monomaps",message:`Copied ${window.location.host}${window.location.pathname}?marker=${e}.`,type:"success",ui:!0})}function editMarker(e){let a=idCheck(e);if(a)if(a.perm)console.log("%c[Monomaps Error]: ","color: red;","Cannot edit permanent markers.");else{let e=document.getElementById("infopanel"),n=document.getElementById("monomaps-config-panel"),t=document.getElementById("monomaps-config-panel-backdrop");e&&dismissInfoP(),n&&(n.remove(),t.remove()),document.body.insertAdjacentHTML("beforeend",`\n      <div class='monomaps-maps-infopanel fadein' id='infopanel'>\n      <img class='monomaps-maps-infopanel-img' id='img' src='${a.image}' onerror='this.src="./assets/monomaps/imgs/noImage.jpg"' alt='${a.name}'>\n      <h1 class='monomaps-maps-infopanel-title'><span id='icon'><i class='fa-solid fa-${a.icon}' style='color: ${a.color}'></i></span> <span id='title'>${a.name}</span></h1>\n      <div class='monomaps-maps-infopanel-description' id='descript'>${a.description}</div>\n      <span class='markerInfo' id='mId'>${a.id} | Monomaps Editor Preview</span>\n      </div>\n\n      <div class='monomaps-maps-infopanel-editor fadein' id='infopanelEditor'>\n      <div class='monomaps-maps-infopanel-container'>\n      <h1 class='monomaps-maps-infopanel-editor-title'>Editing <i class='fa-solid fa-${a.icon}' style='color: ${a.color}'></i> ${a.name}</h1>\n      <hr><br>\n      <div class='settingsContainer'>\n      <div>\n      <label for='imageUrl'>Image URL<br>\n      <input type='text' value='${a.image}' id='imageUrl' class='monomaps-input' placeholder='${window.location.host}/assets/imgs/noImage.jpg'>\n      </label>\n      </div>\n      <div>\n      <label for='markerName' required>Marker Name <span class='badge badge-red'>Required</span><br>\n      <input type='text' value='${a.name}' id='markerName' class='monomaps-input' placeholder='Example Marker'>\n      </label>\n      </div>\n      <div>\n      <label for='markerIcon'>Marker Icon <span class='badge badge-red'>Required</span><br>\n      <input type='text' value='${a.icon}' id='markerIcon' class='monomaps-input' placeholder='question'>\n      </label>\n      </div>\n      <div>\n      <label for='markerDescription' required>Description <span class='badge badge-red'>Required</span><br>\n      <textarea id='markerDescription' class='monomaps-input' placeholder='Information about the marker goes here.'>${a.description}</textarea>\n      </label>\n      </div>      \n      <div>\n      <label for='markerColor'>Color<br>\n      <input type='color' value='${a.color}' id='markerColor' class='monomaps-input'>\n      </label>\n      </div>\n      <div>\n      <label for='markerXY'>Marker Data<br>\n      X<input type='text' value='${a.x}' id='markerX' class='monomaps-input'><br>\n      Y<input type='text' value='${a.y}' id='markerY' class='monomaps-input'><br>\n      <a href="#" class='monomaps-maps-button-rounded' id='changePosition'><i class='fa-solid fa-up-down-left-right'></i> Change position</a>\n      </label>\n      </div>\n      </div>\n      <div>\n      <a class='monomaps-maps-button-rounded' id='submit' onclick='saveMarker("${a.id}")')><i class='fa-solid fa-save'></i> Save Changes</a> <a class='monomaps-maps-button-rounded-caution' onclick='dismissInfoP(1)'><i class='fa-solid fa-x'></i> Cancel Changes</a>\n      </div>\n      </div>\n      </div>\n      `),document.getElementById("imageUrl").addEventListener("keyup",e=>{document.getElementById("img").src=document.getElementById("imageUrl").value}),document.getElementById("markerName").addEventListener("keyup",e=>{document.getElementById("title").innerText=document.getElementById("markerName").value}),document.getElementById("markerColor").addEventListener("change",e=>{document.getElementById("icon").style.color=document.getElementById("markerColor").value}),document.getElementById("markerIcon").addEventListener("keyup",e=>{document.getElementById("icon").innerHTML=`<i class='fa-solid fa-${document.getElementById("markerIcon").value}'></i>`}),document.getElementById("markerDescription").addEventListener("keyup",e=>{document.getElementById("descript").innerHTML=document.getElementById("markerDescription").value}),document.getElementById("changePosition").addEventListener("click",e=>{function n(){t=posX,o=posY,mmAlert({name:a.name,message:`Selected X:${t}, Y: ${o}`,type:"info",ui:!0}),document.getElementById("infopanel").style.display="block",document.getElementById("infopanelEditor").style.display="block",document.getElementById("markerX").value=t,document.getElementById("markerY").value=o,document.getElementById("EditMode").remove(),document.getElementById("monomaps-maps-maparea").removeEventListener("click",n)}let t,o;mmAlert({name:a.name,message:"Choosing position, <b>Click here to cancel</b>.",type:"info",ui:!0,timeOut:36e5,id:"EditMode",onclick:function(){document.getElementById("monomaps-maps-maparea").removeEventListener("click",n),document.getElementById("infopanel").style.display="block",document.getElementById("infopanelEditor").style.display="block",this.remove()}}),document.getElementById("infopanel").style.display="none",document.getElementById("infopanelEditor").style.display="none",document.getElementById("monomaps-maps-maparea").addEventListener("click",n)})}}async function removeDefaults(e){let a=idCheck(e);try{mmAlert({name:"Removed Default Map",message:`removed default map for ${a.name}`,type:"info",ui:!0});let n={id:e,monomaps:{name:a.name,description:a.description,image:a.image},monomaps_data:{map:"",iconSize:a.iconSize,hoverSize:a.hoverSize,preview:!0,type:"Custom",position:"absolute",top:a.y,left:a.x,icon:a.icon,marker:"marker",color:a.color,event:"customMarker(this.id)"}};for(let[a,t]of monomapMarkers.entries())t.id==e&&(monomapMarkers.splice(a,1),monomapMarkers.push(n),localStorage.setItem("monomapMarkers",JSON.stringify(monomapMarkers)))}catch(e){mmAlert({name:"Error",message:e,type:"error",ui:!0})}}async function saveMarker(e){idCheck(e);mmAlert({name:"Monomaps",message:`Saving ID ${e}`,type:"info",ui:!0});let a=document.getElementById("imageUrl").value,n=document.getElementById("markerName").value,t=document.getElementById("markerIcon").value,o=document.getElementById("markerDescription").value,s=document.getElementById("markerColor").value,i=document.getElementById("markerX").value,r=document.getElementById("markerY").value;(!n||n.length<=0)&&(n="No Name Provided"),(!t||t.length<=0)&&(t="question"),(!o||o.length<=0)&&(o="No Description Provided");let m={id:e,monomaps:{name:n,description:o,image:a},monomaps_data:{map:localStorage.getItem("timeMode"),iconSize:32,hoverSize:40,preview:!0,type:"Custom",position:"absolute",top:r,left:i,icon:t,marker:"marker",color:s,event:"customMarker(this.id)"}};for(let[a,n]of monomapMarkers.entries())n.id==e&&(monomapMarkers.splice(a,1),monomapMarkers.push(m),localStorage.setItem("monomapMarkers",JSON.stringify(monomapMarkers)));window.history.replaceState({},document.title,"/?intoView="+e),location.reload()}function copyCoordinates(e,a){navigator.clipboard.writeText(`x:${e}, y:${a}`),mmAlert({name:"Monomaps",message:`Copied x:${e}, y:${a} to clipboard.`,type:"success",ui:!0})}function reportMarker(e,a){let n=idCheck(e),t=`\n  %5BHEADING%3D2%5D%5BB%5DMarker%20Information%5B%2FB%5D%5B%2FHEADING%5D%0A%5BLIST%5D%0A%5B%2A%5D%5BB%5DID%3A%20%5B%2FB%5D${e}%0A%5B%2A%5D%5BB%5DName%3A%20%5B%2FB%5D${n.name}%0A%5B%2A%5D%5BB%5DPosition%3A%20%5B%2FB%5D${n.x}%2C%20${n.y}%0A%5B%2A%5D%5BB%5DMonomaps%20Version%3A%20%5B%2FB%5D${localStorage.getItem("introConfirm")}%0A%5B%2FLIST%5D%0A%5BHEADING%3D2%5D%5BB%5DInformation%5B%2FB%5D%5B%2FHEADING%5D%0A%5BLIST%5D%0A%5B%2A%5D%5BB%5DWhy%20are%20you%20reporting%20this%20marker%20for%3A%5B%2FB%5D%0A%5B%2A%5D%5BB%5DDiscord%20Name%3A%20%5B%2FB%5D%0A%5B%2A%5D%5BB%5DCan%20Monomaps%20contact%20you%20for%20more%20information%20if%20needed%20on%20Discord%3F%20%5B%20Y%20%2F%20N%20%5D%3A%20%5B%2FB%5D%0A%5B%2FLIST%5D\n  `;window.open(`https://monolithservers.com/forums/conversations/add?to=Jet&title=Reporting ${n.name} on Monomaps&message=${t}`,"_blank")}function reportCoordinates(e,a){let n=`\n  %5BHEADING%3D2%5D%5BB%5DCoordinates%20Information%5B%2FB%5D%5B%2FHEADING%5D%0A%5BLIST%5D%0A%5B%2A%5D%5BB%5DPosition%3A%20%5B${e}, ${a}%2FB%5D%0A%5B%2A%5D%5BB%5DMonomaps%20Version%3A%20%5B%2FB%5D${localStorage.getItem("introConfirmed")}%0A%5B%2FLIST%5D%0A%5BHEADING%3D2%5D%5BB%5DInformation%5B%2FB%5D%5B%2FHEADING%5D%0A%5BLIST%5D%0A%5B%2A%5D%5BB%5DWhy%20are%20you%20reporting%20these%20coordinates%20for%3A%5B%2FB%5D%0A%5B%2A%5D%5BB%5DDiscord%20Name%3A%20%5B%2FB%5D%0A%5B%2A%5D%5BB%5DCan%20Monomaps%20contact%20you%20for%20more%20information%20if%20needed%20on%20Discord%3F%20%5B%20Y%20%2F%20N%20%5D%3A%20%5B%2FB%5D%0A%5B%2FLIST%5D\n  `;window.open(`https://monolithservers.com/forums/conversations/add?to=Jet&title=Reporting Coordinates on Monomaps&message=${n}`,"_blank")}function markerExport(e){}function importcm(e){}function addCustomMarker(e,a){let n=document.getElementById("infopanel");n&&dismissInfoP();let t=Math.floor(1e8*Math.random());document.body.insertAdjacentHTML("beforeend",`\n      <div class='monomaps-maps-infopanel slidein' id='infopanel'>\n      <img class='monomaps-maps-infopanel-img' id='img' src='' onerror='this.src="./assets/monomaps/imgs/noImage.jpg"' alt='map editor image'>\n      <h1 class='monomaps-maps-infopanel-title'><span id='icon'><i class='fa-solid fa-question' style='color: white'></i></span> <span id='title'>Example Marker</span></h1>\n      <div class='monomaps-maps-infopanel-description' id='descript'>Information about the marker goes here.</div>\n      <span class='markerInfo' id='mId'>${t} | Monomaps Editor Preview</span>\n      </div>\n\n      <div class='monomaps-maps-infopanel-editor fadein' id='infopanelEditor'>\n      <div class='monomaps-maps-infopanel-container'>\n      <h1 class='monomaps-maps-infopanel-editor-title'>Creating a new marker</h1>\n      <hr><br>\n      <div class='settingsContainer' id='inputFields'>\n      <div>\n      <label for='imageUrl'>Image URL<br>\n      <input type='text' value='' id='imageUrl' class='monomaps-input' placeholder='${window.location.host}/assets/imgs/noImage.jpg'>\n      </label>\n      </div>\n      <div>\n      <label for='markerName'>Marker Name <span class='badge badge-red'>Required</span><br>\n      <input type='text' value='' id='markerName' class='monomaps-input' placeholder='Example Marker'>\n      </label>\n      </div>\n      <div>\n      <label for='markerIcon'>Marker Icon <span class='badge badge-red'>Required</span><br>\n      <input type='text' value='' id='markerIcon' class='monomaps-input' placeholder='question'>\n      </label>\n      </div>\n      <div>\n      <label for='markerDescription'>Description <span class='badge badge-red'>Required</span><br>\n      <textarea id='markerDescription' class='monomaps-input' placeholder='Information about the marker goes here.'></textarea>\n      </label>\n      </div>      \n      <div>\n      <label for='markerColor'>Color<br>\n      <input type='color' value='#ffffff' id='markerColor' class='monomaps-input'>\n      </label>\n      </div>\n      </div>\n      <div>\n      <a class='monomaps-maps-button-rounded-success' id='submit'><i class='fa-solid fa-save'></i> Save & Create Marker</a>\n      \n      <a class='monomaps-maps-button-rounded-caution' onclick='dismissInfoP(1)'><i class='fa-solid fa-x'></i> Cancel Changes</a>\n      </div>\n      </div>\n      </div>\n      `),document.getElementById("submit").addEventListener("click",n=>{let o=document.getElementById("imageUrl").value,s=document.getElementById("markerName").value,r=document.getElementById("markerIcon").value,m=document.getElementById("markerDescription").value,l=document.getElementById("markerColor").value;if((!s||s.length<=0)&&(s="No Name Provided"),(!r||r.length<=0)&&(r="question"),(!m||m.length<=0)&&(m="No Description Provided"),monomapMarkers)for(i=0;i<mmData.length;i++){if(mmData[i].id!==t){let n={id:t,monomaps:{name:s,description:m,image:o},monomaps_data:{map:localStorage.getItem("timeMode"),iconSize:32,hoverSize:40,preview:!0,type:"Custom",position:"absolute",top:a-10,left:e-10,icon:r,marker:"marker",color:l,event:"customMarker(this.id)"}};monomapMarkers.push(n);break}mmAlert({name:"Monomaps Creator",message:"Marker already exists.",type:"error",ui:!0})}window.history.replaceState({},document.title,"/?intoView="+t),localStorage.setItem("monomapMarkers",JSON.stringify(monomapMarkers)),window.location.reload()}),document.getElementById("imageUrl").addEventListener("keyup",e=>{document.getElementById("img").src=document.getElementById("imageUrl").value}),document.getElementById("markerName").addEventListener("keyup",e=>{document.getElementById("title").innerText=document.getElementById("markerName").value}),document.getElementById("markerColor").addEventListener("change",e=>{document.getElementById("icon").style.color=document.getElementById("markerColor").value}),document.getElementById("markerIcon").addEventListener("keyup",e=>{document.getElementById("icon").innerHTML=`<i class='fa-solid fa-${document.getElementById("markerIcon").value}'></i>`}),document.getElementById("markerDescription").addEventListener("keyup",e=>{document.getElementById("descript").innerHTML=document.getElementById("markerDescription").value})}function copyJson(e){mmAlert({name:"Deprecation Warning",message:"This feature has been deprecated and will be removed in next Major Update.",type:"error",ui:!0});try{for(i=0;i<monomapMarkers.length;i++)if(monomapMarkers[i].id===e){var a=JSON.stringify(monomapMarkers[i]);navigator.clipboard.writeText(a),mmAlert({name:"Monomaps",message:`Copied ${monomapMarkers[i].monomaps.name} JSON.`,type:"success",ui:!0})}}catch(e){mmAlert({name:"Monomaps",message:"Couldn't copy marker JSON.",type:"error",ui:!0}),console.error(e.message)}}function hide(e){if(e.startsWith("!")){reloadMarkers();let a=document.querySelectorAll(".marker");for(i=0;i<a.length;i++)a[i].dataset.type!==e.replace("!","")&&(a[i].style.display="none")}else if(e.startsWith("*")){let a=document.querySelectorAll(".marker");for(i=0;i<a.length;i++)a[i].id!==e.replace("*","")&&(a[i].style.display="none")}else{let a=document.querySelectorAll(`[data-type="${e}"]`);for(i=0;i<a.length;i++)a[i].style.display="none"}}function reloadMarkers(){unload_markers("Reloading"),load_markers(),window.history.replaceState({},document.title,"/")}function GreatMillenniumMine(){let e=document.createElement("div"),a=document.createElement("div");a.classList.add("monomaps-container-template"),a.id="monomaps-mine1-panel",a.innerHTML="\n  <div class='monomaps-ui-header'><h2>Great Millennium Mines</h2></div>\n  <div class='monomaps-ui-sidebar-right'></div>\n  <div class='monomaps-ui-container dragscroll'>\n  <div class='monomaps-mine1-container' id='monomaps-mine1-container'></div>\n  </div>\n  ",e.classList.add("monomaps-maps-notification-alert-background"),e.id="monomaps-mine1-panel-backdrop",e.addEventListener("click",n=>{e.remove(),a.remove(),parentContainer.classList.add("dragscroll"),dragscroll.reset()}),parentContainer.appendChild(e),parentContainer.appendChild(a),parentContainer.classList.remove("dragscroll"),dragscroll.reset(),mmAlert({name:"Monomaps - GMM",message:"Loading map-markers for GMM",type:"warning"});let n=document.querySelector("#monomaps-mine1-container");for(i=0;i<gmmData.length;i++){let e=document.createElement("i"),a=gmmData[i].info;gmmData[i].data;if(e.id=gmmData[i].id,e.classList.add("marker","fa-solid",`fa-${gmmData[i].data.icon}`),e.style.color=gmmData[i].data.color,e.style.position=gmmData[i].data.position,e.style.top=gmmData[i].data.top+"px",e.style.left=gmmData[i].data.left+"px",e.style.fontSize="32px",e.onmouseover=function(){e.style.fontSize="40px"},e.onmouseleave=function(){e.style.fontSize="32px"},localStorage.getItem("showPreview")&&"true"===localStorage.getItem("showPreview")&&gmmData[i].data.preview){let t;e.addEventListener("mouseover",e=>{t=setTimeout(()=>{n.insertAdjacentHTML("beforeend",`\n            <div class="monomaps-maps-markerPreview fadein" id='preview'>\n            <div class="monomaps-maps-previewContainer">\n            <h3 class="monomaps-maps-titlePreview">${a.name}</h3>\n            <div class='monomaps-maps-descriptPreview'>${a.description}</div>\n            </div>\n          </div>\n            `);let e=document.getElementById("preview");e.style.position="fixed",e.style.top="75px",e.style.left="5px",e.style.zIndex=101},600)}),e.addEventListener("mouseleave",e=>{clearTimeout(t),document.getElementById("preview")&&(document.getElementById("preview").classList.add("fadeout"),setTimeout(()=>{document.getElementById("preview").remove()},250))})}n.appendChild(e)}}function showSettings(){let e=document.createElement("div"),a=document.createElement("div");a.classList.add("monomaps-container-template"),a.id="monomaps-config-panel",parentContainer.classList.remove("dragscroll"),dragscroll.reset(),a.innerHTML="\n  <ul class='config-list' id='config-list'>\n    <li class='config-text'>Monomaps Configuration</li>\n    <li class='config-item config-button' id='reinitMm'><i class=\"fa-duotone fa-rotate\"></i> Reinitalize Monomaps<br>\n    <span class='config-information'>Reloads the Map Markers.</span></li>\n    <li class='config-item config-button' id='repairMarkers'><i class=\"fa-duotone fa-toolbox\"></i> Repair Custom Markers<br>\n    <span class='config-information'>Fix your custom map markers here.</span></li>\n    <li class='config-item config-button' id='mmPreview'><i class=\"fa-duotone fa-magnifying-glass-location\"></i> Monomaps Preview <span id='mmPreviewStatus' class='badge'>Unknown</span><br>\n    <span class='config-information'>Enables / Disables the preview when hovering a map marker.</span></li></li>\n  </ul>\n  ",e.classList.add("monomaps-maps-notification-alert-background"),e.id="monomaps-config-panel-backdrop",e.addEventListener("click",n=>{e.remove(),a.remove(),parentContainer.classList.add("dragscroll"),dragscroll.reset()}),parentContainer.appendChild(e),parentContainer.appendChild(a),localStorage.getItem("showPreview")&&("true"===localStorage.getItem("showPreview")?(document.querySelector("#mmPreviewStatus").classList.add("badge-green"),document.querySelector("#mmPreviewStatus").innerText="Enabled"):(document.querySelector("#mmPreviewStatus").classList.add("badge-red"),document.querySelector("#mmPreviewStatus").innerText="Disabled")),document.querySelector("#reinitMm").addEventListener("click",e=>{reloadMarkers(),mmAlert({name:"Monomaps",message:"Monomaps has been reinitalized.",type:"success",ui:!0})}),document.querySelector("#repairMarkers").addEventListener("click",e=>{
document.querySelector("#config-list").innerHTML=`\n    <li class='config-text'><i class="fa-duotone fa-toolbox"></i> Repair Custom Monomaps</li>\n    ${monomapMarkers.map(e=>"<li class='config-item config-button' onclick=\"editMarker("+e.id+')">'+e.monomaps.name+"<br><span class='config-information'><b>ID:</b> "+e.id+"<br><b>Map:</b> "+e.monomaps_data.map+"</span></li>")}\n    <li class='config-item config-button' onclick='reloadSettings()'><i class="fa-duotone fa-arrow-left"></i> Return back<br>\n    <span class='config-information'>Return to the Main Menu</span></li>\n    `}),document.querySelector("#mmPreview").addEventListener("click",e=>{let a=localStorage.getItem("showPreview");"true"===a?(document.querySelector("#mmPreviewStatus").classList.add("badge-red"),document.querySelector("#mmPreviewStatus").classList.remove("badge-green"),document.querySelector("#mmPreviewStatus").innerText="Disabled",localStorage.setItem("showPreview","false")):(document.querySelector("#mmPreviewStatus").classList.add("badge-green"),document.querySelector("#mmPreviewStatus").classList.remove("badge-red"),document.querySelector("#mmPreviewStatus").innerText="Enabled",localStorage.setItem("showPreview","true")),reloadMarkers()})}function reloadSettings(){document.querySelector("#monomaps-config-panel").remove(),document.querySelector("#monomaps-config-panel-backdrop").remove(),showSettings()}function restoreMarker(e){mmAlert({name:"Restoring Map Marker",message:`You're about to restore this map marker to ${localStorage.getItem("mapMode")}, are you sure?`,type:"warning",ui:!0,dialog:!0}).then(a=>{if(!0===a){for(let[a,n]of monomapMarkers.entries()){let t={id:e,monomaps:{name:monomapMarkers[a].monomaps.name,description:monomapMarkers[a].monomaps.description,image:monomapMarkers[a].monomaps.image},monomaps_data:{map:localStorage.getItem("timeMode"),iconSize:32,hoverSize:40,preview:!0,type:"Custom",position:"absolute",top:monomapMarkers[a].monomaps_data.top,left:monomapMarkers[a].monomaps_data.left,icon:monomapMarkers[a].monomaps_data.icon,marker:"marker",color:monomapMarkers[a].monomaps_data.color,event:"customMarker(this.id)"}};n.id==e&&(monomapMarkers.splice(a,1),monomapMarkers.push(t),localStorage.setItem("monomapMarkers",JSON.stringify(monomapMarkers)))}window.history.replaceState({},document.title,"/?intoView="+e),location.reload()}})}function layerContainer(){document.getElementById("monomaps-maps-layerContainer")?(document.getElementById("monomaps-maps-layerContainer").classList.add("fadeout"),setTimeout(()=>{document.getElementById("monomaps-maps-layerContainer").remove()},250)):document.body.insertAdjacentHTML("beforeend","\n    <div class='monomaps-maps-layerContainer fadein' id='monomaps-maps-layerContainer'>\n    <div class='monomaps-maps-layerItem'>\n    <img src='https://i.postimg.cc/6QgWX792/layer1.png' onclick='tMode(1)'>\n    <span class='monomaps-maps-layerItemLabel'>Layer 1</span>\n    </div>\n    <div class='monomaps-maps-layerItem'>\n    <img src='https://i.postimg.cc/MTBWKWTs/layer2.png' onclick='tMode(2)'>  \n    <span class='monomaps-maps-layerItemLabel'>Layer 2</span>\n    </div>\n    </div>\n    ")}function tMode(e){switch(e){case 1:localStorage.setItem("timeMode","Layer1"),window.location.reload();break;case 2:localStorage.setItem("timeMode","Layer2"),window.location.reload()}document.getElementById("monomaps-maps-layerContainer").classList.add("fadeout"),setTimeout(()=>{document.getElementById("monomaps-maps-layerContainer").remove()},500)}function filterMarkers(){document.getElementById("infopanel")?document.getElementById("infopanel").innerHTML="\n    <div class='monomaps-maps-infopanel-description' style='margin-top: 25px; max-height: 90% !important;'>\n    <b><i class='fa-solid fa-star'></i> Premium Only Markers</b>\n    <label class=\"switch\">\n    <input id='premiumBoxes' type=\"checkbox\" checked>\n    <span class=\"slider round\"></span>\n   </label><br><br>\n   <b><i class='fa-solid fa-tree'></i> Resource Markers</b>\n   <label class=\"switch\">\n   <input id='resourceMarkers' type=\"checkbox\" checked>\n   <span class=\"slider round\"></span>\n  </label><br><br>\n  <b><i class='fa-solid fa-users'></i> Public Markers</b>\n  <label class=\"switch\">\n  <input id='publicMarkers' type=\"checkbox\" checked>\n  <span class=\"slider round\"></span>\n </label><br><br>\n <b><i class='fa-solid fa-building-columns'></i> Government Markers</b>\n <label class=\"switch\">\n <input id='governmentMarkers' type=\"checkbox\" checked>\n <span class=\"slider round\"></span>\n</label><br><br>\n<b><i class='fa-solid fa-house'></i> Rentable Properties Markers</b>\n<label class=\"switch\">\n<input id='rentableMarkers' type=\"checkbox\" checked>\n<span class=\"slider round\"></span>\n</label><br><br>\n<b><i class='fa-solid fa-screwdriver'></i> Illegal & Contraband Markers</b>\n<label class=\"switch\">\n<input id='illegalMarkers' type=\"checkbox\" checked>\n<span class=\"slider round\"></span>\n</label><br><br>\n<b><i class='fa-solid fa-basket-shopping'></i> Shop Markers</b>\n<label class=\"switch\">\n<input id='shopMarkers' type=\"checkbox\" checked>\n<span class=\"slider round\"></span>\n</label><br><br>\n<b><i class='fa-solid fa-map-marker'></i> Custom Markers</b>\n<label class=\"switch\">\n<input id='customMarkers' type=\"checkbox\" checked>\n<span class=\"slider round\"></span>\n</label>\n<br><br><br>\n<a href=\"#cancelFilter\" class='monomaps-maps-button-rounded' id='selectAll'><i class='fa-solid fa-plus'></i> Select All</a>\n<a href=\"#cancelFilter\" class='monomaps-maps-button-rounded' id='unselectAll'><i class='fa-solid fa-minus'></i> Unselect All</a> \n<hr>\n<a href=\"#saveFilter\" class='monomaps-maps-button-rounded-success' id='saveButton'><i class='fa-solid fa-save'></i> Save Filter Selection</a> <a href=\"#cancelFilter\" class='monomaps-maps-button-rounded-caution' id='cancelButton'><i class='fa-solid fa-x'></i> Exit Menu</a>\n    </div>\n    ":document.body.insertAdjacentHTML("beforeend","\n      <div class='monomaps-maps-infopanel slidein' id='infopanel'>\n        <div class='monomaps-maps-infopanel-description' style='margin-top: 25px; max-height: 90% !important;'>\n      <b><i class='fa-solid fa-star'></i> Premium Only Markers</b>\n      <label class=\"switch\">\n      <input id='premiumBoxes' type=\"checkbox\" checked>\n      <span class=\"slider round\"></span>\n     </label><br><br>\n     <b><i class='fa-solid fa-tree'></i> Resource Markers</b>\n     <label class=\"switch\">\n     <input id='resourceMarkers' type=\"checkbox\" checked>\n     <span class=\"slider round\"></span>\n    </label><br><br>\n    <b><i class='fa-solid fa-users'></i> Public Markers</b>\n    <label class=\"switch\">\n    <input id='publicMarkers' type=\"checkbox\" checked>\n    <span class=\"slider round\"></span>\n   </label><br><br>\n   <b><i class='fa-solid fa-building-columns'></i> Government Markers</b>\n   <label class=\"switch\">\n   <input id='governmentMarkers' type=\"checkbox\" checked>\n   <span class=\"slider round\"></span>\n  </label><br><br>\n  <b><i class='fa-solid fa-house'></i> Rentable Properties Markers</b>\n  <label class=\"switch\">\n  <input id='rentableMarkers' type=\"checkbox\" checked>\n  <span class=\"slider round\"></span>\n  </label><br><br>\n  <b><i class='fa-solid fa-screwdriver'></i> Illegal & Contraband Markers</b>\n  <label class=\"switch\">\n  <input id='illegalMarkers' type=\"checkbox\" checked>\n  <span class=\"slider round\"></span>\n  </label><br><br>\n  <b><i class='fa-solid fa-basket-shopping'></i> Shop Markers</b>\n  <label class=\"switch\">\n  <input id='shopMarkers' type=\"checkbox\" checked>\n  <span class=\"slider round\"></span>\n  </label><br><br>\n  <b><i class='fa-solid fa-map-marker'></i> Custom Markers</b>\n  <label class=\"switch\">\n  <input id='customMarkers' type=\"checkbox\" checked>\n  <span class=\"slider round\"></span>\n  </label>\n  <br><br><br>\n  <a href=\"#cancelFilter\" class='monomaps-maps-button-rounded' id='selectAll'><i class='fa-solid fa-plus'></i> Select All</a>\n  <a href=\"#cancelFilter\" class='monomaps-maps-button-rounded' id='unselectAll'><i class='fa-solid fa-minus'></i> Unselect All</a> \n  <hr>\n  <a href=\"#saveFilter\" class='monomaps-maps-button-rounded-success' id='saveButton'><i class='fa-solid fa-save'></i> Save Filter Selection</a> <a href=\"#cancelFilter\" class='monomaps-maps-button-rounded-caution' id='cancelButton'><i class='fa-solid fa-x'></i> Exit Menu</a>\n      </div>\n      </div>\n      ");var e=JSON.parse(localStorage.getItem("filterSettings"));let a=document.getElementById("premiumBoxes"),n=document.getElementById("resourceMarkers"),t=document.getElementById("publicMarkers"),o=document.getElementById("governmentMarkers"),s=document.getElementById("rentableMarkers"),i=document.getElementById("illegalMarkers"),r=document.getElementById("shopMarkers"),m=document.getElementById("customMarkers");mmAlert({name:"filterSettings",message:e,type:"info"}),e&&(!0===e.premiumMarkers?a.checked=!0:a.checked=!1,!0===e.customMarkers?m.checked=!0:m.checked=!1,!0===e.resourceMarkers?n.checked=!0:n.checked=!1,!0===e.publicMarkers?t.checked=!0:t.checked=!1,!0===e.governmentMarkers?o.checked=!0:o.checked=!1,!0===e.rentableMarkers?s.checked=!0:s.checked=!1,!0===e.illegalMarkers?i.checked=!0:i.checked=!1,!0===e.shopMarkers?r.checked=!0:r.checked=!1),a.addEventListener("change",function(){this.checked?e.premiumMarkers=!0:e.premiumMarkers=!1}),n.addEventListener("change",function(){this.checked?e.resourceMarkers=!0:e.resourceMarkers=!1}),t.addEventListener("change",function(){this.checked?e.publicMarkers=!0:e.publicMarkers=!1}),o.addEventListener("change",function(){this.checked?e.governmentMarkers=!0:e.governmentMarkers=!1}),s.addEventListener("change",function(){this.checked?e.rentableMarkers=!0:e.rentableMarkers=!1}),i.addEventListener("change",function(){this.checked?e.illegalMarkers=!0:e.illegalMarkers=!1}),r.addEventListener("change",function(){this.checked?e.shopMarkers=!0:e.shopMarkers=!1}),m.addEventListener("change",function(){this.checked?e.customMarkers=!0:e.customMarkers=!1}),document.getElementById("cancelButton").addEventListener("click",e=>{document.getElementById("infopanel").classList.add("slideout"),setTimeout(()=>{document.getElementById("infopanel").remove()},700)}),document.getElementById("saveButton").addEventListener("click",a=>{localStorage.setItem("filterSettings",JSON.stringify(e)),unload_markers("Reinitalize Markers"),init(),mmAlert({name:"Map Filtering",message:"Saved your filter configuration",type:"success",ui:!0})}),document.getElementById("selectAll").addEventListener("click",()=>{let a=document.getElementById("premiumBoxes"),n=document.getElementById("resourceMarkers"),t=document.getElementById("publicMarkers"),o=document.getElementById("governmentMarkers"),s=document.getElementById("rentableMarkers"),i=document.getElementById("illegalMarkers"),r=document.getElementById("shopMarkers"),m=document.getElementById("customMarkers");a.checked=!0,n.checked=!0,t.checked=!0,o.checked=!0,s.checked=!0,i.checked=!0,r.checked=!0,m.checked=!0,e.customMarkers=!0,e.governmentMarkers=!0,e.illegalMarkers=!0,e.premiumMarkers=!0,e.publicMarkers=!0,e.rentableMarkers=!0,e.resourceMarkers=!0,e.shopMarkers=!0}),document.getElementById("unselectAll").addEventListener("click",()=>{let a=document.getElementById("premiumBoxes"),n=document.getElementById("resourceMarkers"),t=document.getElementById("publicMarkers"),o=document.getElementById("governmentMarkers"),s=document.getElementById("rentableMarkers"),i=document.getElementById("illegalMarkers"),r=document.getElementById("shopMarkers"),m=document.getElementById("customMarkers");a.checked=!1,n.checked=!1,t.checked=!1,o.checked=!1,s.checked=!1,i.checked=!1,r.checked=!1,m.checked=!1,e.customMarkers=!1,e.governmentMarkers=!1,e.illegalMarkers=!1,e.premiumMarkers=!1,e.publicMarkers=!1,e.rentableMarkers=!1,e.resourceMarkers=!1,e.shopMarkers=!1})}console.warn("%c[Attention]: ","color: white; font-size: 14px","Please be careful about what scripts or codes you paste into the console here."),document.addEventListener("contextmenu",e=>e.preventDefault());let parentContainer=document.querySelector("#monomaps-maps-container"),maparea=document.querySelector("#monomaps-maps-maparea");var posX,posY,monomapMarkers=JSON.parse(localStorage.getItem("monomapMarkers")),timeMode=localStorage.getItem("timeMode"),showPreview=localStorage.getItem("showPreview"),themeMode=localStorage.getItem("themeMode"),mapMode=localStorage.getItem("mapMode"),mmtypes=[];let container=document.getElementById("monomaps-maps-maparea");var coordinatesListener=function(e){posX=e.offsetX,posY=e.offsetY,document.getElementById("posX").innerText=posX,document.getElementById("posY").innerText=posY};const contextMenu=document.getElementById("contextMenu"),scope=document.querySelector("#monomaps-maps-container");scope.addEventListener("contextmenu",async e=>{e.preventDefault();const{clientX:a,clientY:n}=e,{normalizedX:t,normalizedY:o}=await normalizePosition(a,n);contextMenu.style.top=`${o}px`,contextMenu.style.left=`${t}px`,contextMenu.classList.remove("visible"),setTimeout(()=>{contextMenu.classList.add("visible")}),contextMenu.innerHTML="","Monomaps"===e.target.dataset.contextType?contextMenu.innerHTML=`\n    <div class="context-item-text">${e.target.dataset.name}</div>\n    <hr>\n    <div class='context-item' onclick='copyCoordinates(${e.target.dataset.x}, ${e.target.dataset.y})'><i class='fa-solid fa-copy'></i> Copy Coordinates</div>\n    <div class="context-item" onclick='shareMarker(${e.target.id})'><i class='fa-solid fa-share'></i> Share Marker</div>\n    <div class="context-item" onclick='reportMarker(${e.target.id})'><i class='fa-solid fa-flag'></i> Report Marker</div>\n    `:"Maparea"===e.target.dataset.contextType?contextMenu.innerHTML=`\n    <div class="context-item-text">Monomaps</div>\n    <hr>\n    <div class="context-item" onclick='reportCoordinates(${posX}, ${posY})'><i class='fa-solid fa-flag'></i> Report Coordinates</div>\n    <div class='context-item' onclick='copyCoordinates(${posX}, ${posY})'><i class='fa-solid fa-copy'></i> Copy Coordinates</div>\n    <div class="context-item" onclick='addCustomMarker(${posX}, ${posY})'><i class='fa-solid fa-location-dot'></i> Create Marker Here</div>\n    `:"Custom"===e.target.dataset.contextType&&(contextMenu.innerHTML=`\n    <div class="context-item-text">${e.target.dataset.name}</div>\n    <hr>\n    <div class='context-item' onclick='copyCoordinates(${e.target.dataset.x}, ${e.target.dataset.y})'><i class='fa-solid fa-copy'></i> Copy Coordinates</div>\n    <div class="context-item" onclick='editMarker(${e.target.id})'><i class='fa-solid fa-pencil'></i> Edit this Marker</div>\n    <div class="context-item contextWarning" onclick='delete_marker(${e.target.id})'><i class='fa-solid fa-trash-xmark'></i> Delete this Marker</div>\n  `)}),scope.addEventListener("click",e=>{e.target.offsetParent,contextMenu.classList.remove("visible")});const normalizePosition=async(e,a)=>{const{left:n,top:t}=scope.getBoundingClientRect(),o=e-n,s=a-t,i=o+contextMenu.clientWidth>scope.clientWidth,r=s+contextMenu.clientHeight>scope.clientHeight;let m=e,l=a;return i&&(m=n+scope.clientWidth-contextMenu.clientWidth),r&&(l=t+scope.clientHeight-contextMenu.clientHeight),{normalizedX:m,normalizedY:l}};container.addEventListener("mousemove",coordinatesListener,!1);let development={mia:function(e){let a=idCheck(e),n={id:a.id,monomaps:{name:a.name,description:a.description,image:a.image},monomaps_data:{map:"",iconSize:a.iconSize,hoverSize:a.hoverSize,preview:!0,type:"Custom",position:"absolute",top:a.y,left:a.x,icon:a.icon,marker:"marker",color:a.color,event:"customMarker(this.id)"}};for(let[a,t]of monomapMarkers.entries())t.id==e&&(monomapMarkers.splice(a,1),monomapMarkers.push(n),localStorage.setItem("monomapMarkers",JSON.stringify(monomapMarkers)));window.location.reload()}};init();var today=new Date;mmAlert({name:"mmLocale",message:`Current Time (${today})`,type:"info"});